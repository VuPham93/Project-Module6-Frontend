<app-header></app-header>
<div class="theme-layout">
  <section>
    <div class="gap gray-bg">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-12">
            <div class="row" id="page-contents">
              <!-- sidebar -->
              <div class="col-lg-3">
                <aside class="sidebar static">
                  <!-- Shortcuts -->
                  <app-short-cut></app-short-cut>
                  <div class="widget">
                    <div class="banner medium-opacity bluesh">
                      <div class="bg-image" style="background-image: url(assets/images/resources/baner-widgetbg.jpg)"></div>
                      <div class="baner-top">
                        <span><img alt="" src="assets/images/book-icon.png"></span>
                        <i class="fa fa-ellipsis-h"></i>
                      </div>
                      <div class="banermeta">
                        <p>
                          create your own favourit page.
                        </p>
                        <span>like them all</span>
                        <a data-ripple="" title="" href="#">start now!</a>
                      </div>
                    </div>
                  </div>
                </aside>
              </div>
              <div class="col-lg-6">

                <!-- add post new box -->
                <app-new-post (newPost)="addNewPost($event)"></app-new-post>
                <div class="loadMore">
                  <div class="central-meta item" *ngFor="let post of allPost; let i = index">
                    <div class="user-post">
                      <div class="friend-info">
                        <figure>
                          <img src="{{post.posterAvatar}}" alt="">
                        </figure>
                        <div class="friend-name">
                          <ins><a href="#" title="">{{post.posterName}}</a></ins>
                          <span>published: {{post.postTime}}</span>
                        </div>
                        <div class="post-meta">
                          <div class="description">
                            <a [routerLink]="'/status/'+post.postId">{{post.textPost}}</a>
                          </div>
                          <div class="we-video-info">
                            <ul>
                              <li><span class="comment" data-toggle="tooltip" title="Comments"><i class="fa fa-comments-o"></i><ins>52</ins></span></li>
                              <li><span class="like" data-toggle="tooltip" title="like"><i class="ti-heart"></i><ins>{{post.postLike}}</ins></span></li>
                              <li><span class="dislike" data-toggle="tooltip" title="dislike"><i class="ti-heart-broken"></i><ins>{{post.postDislike}}</ins></span></li>
                              <li class="social-media">
                                <div class="menu">
                                  <div class="btn trigger" data-toggle="modal" data-target="#form"><i class="fa fa-pencil-square-o" (click)="getIdPost(post.postId,i)"></i></div>
                                </div>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="coment-area">
                      <ul class="we-comet">
                        <li *ngFor="let comment of post.commentList">
                          <div class="comet-avatar">
                            <img style="width: 45px; height: 45px" src="{{comment.commenterAvatar}}" alt="">
                          </div>
                          <div class="we-comment">
                            <div class="coment-head">
                              <h5><a href="#" title="">{{comment.commenterName}}</a></h5>
                              <span>{{comment.commentTime}}</span>
                              <a class="we-reply" href="#" title="Reply"><i class="fa fa-reply"></i></a>
                            </div>
                            <p>{{comment.content}}</p>
                          </div>
                        </li>

                        <li class="post-comment">
                          <app-comment [postId]="post.postId" (newComment)="addNewComment($event)"></app-comment>
                        </li>

                      </ul>
                    </div>
                  </div>
                </div>
              </div><!-- centerl meta -->

              <div class="col-lg-3">
                <aside class="sidebar static">
                  <!-- page like widget -->
                  <app-your-page></app-your-page>
                  <!-- friends list sidebar -->
                  <app-friend-list></app-friend-list>
                </aside>
              </div><!-- sidebar -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
<div class="modal fade" id="form" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title" id="exampleModalLabel">Edit Post</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form #f="ngForm" (ngSubmit)="onSubmit(f)">
        <div class="modal-body">
          <div class="form-group">
            <textarea class="form-control" rows="4" cols="50" id="content" name="content" placeholder="Enter text" ngModel></textarea>
          </div>
        </div>

        <div class="modal-footer border-top-0 d-flex justify-content-center">
          <button type="submit" class="btn btn-success">Edit</button>
        </div>
      </form>
    </div>
  </div>
</div>
<app-footer></app-footer>
